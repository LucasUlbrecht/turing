var turingSNApp=angular.module("turingSNApp","ngCookies ngResource ngAnimate ngSanitize ui.router ui.bootstrap pascalprecht.translate".split(" "));turingSNApp.config(["$stateProvider","$urlRouterProvider","$locationProvider","$translateProvider",function(a,b,c,d){d.useSanitizeValueStrategy("escaped");c.html5Mode(!0)}]);
turingSNApp.service("turAPIServerService",["$http","$location","$cookies",function(a,b,c){var d=b.protocol(),e=b.host();b=b.port();var f=d+"://"+e+":"+b+"/api";console.log(f);this.get=function(){if(null!=c.get("turAPIServer"))return c.get("turAPIServer");a({method:"GET",url:f}).then(function(a){c.put("turAPIServer",f)},function(a){c.put("turAPIServer","http://localhost:2700/api")});return f}}]);
turingSNApp.controller("TurSNMainCtrl",["$scope","$http","$window","$state","$rootScope","$translate","$location","turSNSearch",function(a,b,c,d,e,f,g,h){a.init=function(){a.turQuery=g.search().q;a.turPage=g.search().p;a.initParams(a.turQuery,a.turPage)};a.initParams=function(b,c){console.log(g.search());h.search(b,c).then(function(b){a.total=b.data["rdf:Description"]["otsn:query-context"]["otsn:count"];a.results=b.data["rdf:Description"]["otsn:results"]["otsn:document"];a.pages=b.data["rdf:Description"]["otsn:pagination"]["otsn:page"]},
function(a){})};a.init();a.test="Alexandre";e.$state=d;a.turRedirect=function(b,c){a.initParams(b,c)};a.replaceUrlSearch=function(a){return urlFormatted=a.replace("/api/otsn/search/theme/json","/sn/")}}]);turingSNApp.factory("turSNSearch",["$http","turAPIServerService",function(a,b){return{search:function(c,d){var e={params:{q:c,sort:"relevant",_setlocale:"pt",p:d},headers:{Accept:"application/json"}};return a.get(b.get().concat("/otsn/search/theme/json"),e)}}}]);